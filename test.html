<!DOCTYPE html>
<html>
<head>
    <title>ØªØ³Øª ÙÙˆØ±ÛŒ Vakamova</title>
    <style>
        body { font-family: system-ui; padding: 40px; background: #f0f2f5; }
        .box { background: white; padding: 30px; border-radius: 15px; max-width: 500px; margin: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        button { background: #667eea; color: white; border: none; padding: 15px 30px; border-radius: 10px; font-size: 16px; cursor: pointer; margin: 10px; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <div class="box">
        <h1>ğŸ”§ ØªØ³Øª Vakamova</h1>
        <p>Ø¨Ø±Ø±Ø³ÛŒ Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª</p>
        
        <button onclick="testStateManager()">ØªØ³Øª State Manager</button>
        <button onclick="testLocalStorage()">ØªØ³Øª Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ</button>
        <button onclick="showFileList()">Ù†Ù…Ø§ÛŒØ´ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§</button>
        
        <div id="result" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;"></div>
    </div>

    <script>
        // ØªØ³Øª State Manager Ø³Ø§Ø¯Ù‡
        function testStateManager() {
            try {
                const state = { user: null, lessons: {} };
                state.user = { name: "Ú©Ø§Ø±Ø¨Ø± ØªØ³Øª", id: Date.now() };
                state.lessons = { lesson1: { title: "Ø¯Ø±Ø³ Ø§ÙˆÙ„" } };
                
                localStorage.setItem('vakamova_test_state', JSON.stringify(state));
                
                document.getElementById('result').innerHTML = 
                    `<p class="success">âœ… State Manager ØªØ³Øª Ø´Ø¯ Ùˆ Ø¯Ø± localStorage Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯</p>
                     <pre>${JSON.stringify(state, null, 2)}</pre>`;
            } catch(e) {
                document.getElementById('result').innerHTML = 
                    `<p class="error">âŒ Ø®Ø·Ø§: ${e.message}</p>`;
            }
        }
        
        // ØªØ³Øª LocalStorage
        function testLocalStorage() {
            try {
                localStorage.setItem('vakamova_test', 'test_value');
                const value = localStorage.getItem('vakamova_test');
                localStorage.removeItem('vakamova_test');
                
                document.getElementById('result').innerHTML = 
                    `<p class="success">âœ… localStorage Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>
                     <p>Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø´Ø¯Ù‡: "${value}"</p>`;
            } catch(e) {
                document.getElementById('result').innerHTML = 
                    `<p class="error">âŒ localStorage Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª</p>
                     <p>${e.message}</p>`;
            }
        }
        
        // Ù†Ù…Ø§ÛŒØ´ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯
        function showFileList() {
            const files = [
                'index.html',
                'test/index.html', 
                'core/state-manager.js',
                'core/state-persistence.js',
                'core/context-provider.js'
            ];
            
            let html = '<h3>ğŸ“ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ù†ØªØ¸Ø§Ø±:</h3><ul>';
            files.forEach(file => {
                html += `<li>${file}</li>`;
            });
            html += '</ul>';
            
            document.getElementById('result').innerHTML = html;
        }
        
        // ØªØ³Øª Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            testLocalStorage();
        };
    </script>
</body>
</html>
