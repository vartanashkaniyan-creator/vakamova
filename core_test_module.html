<!DOCTYPE html>
<html dir="rtl">
<head>
    <title>ØªØ³Øª Core (Ù†Ø³Ø®Ù‡ Module)</title>
    <style>
        body { font-family: Tahoma; margin: 20px; }
        button { padding: 10px 20px; background: #2196F3; color: white; border: none; border-radius: 5px; margin: 5px; }
        .result { padding: 10px; margin: 5px 0; border-right: 4px solid; }
        .success { background: #E8F5E9; border-color: #4CAF50; }
        .error { background: #FFEBEE; border-color: #F44336; }
    </style>
</head>
<body>
    <h2>âš™ï¸ ØªØ³Øª Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Core (Ù†Ø³Ø®Ù‡ Module)</h2>
    <button onclick="runModuleTest()">Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª Module</button>
    <div id="results"></div>

    <script type="module">
        const results = document.getElementById('results');
        
        function showResult(module, message, isSuccess) {
            const div = document.createElement('div');
            div.className = `result ${isSuccess ? 'success' : 'error'}`;
            div.innerHTML = `<strong>${module}:</strong> ${message}`;
            results.appendChild(div);
        }

        async function runModuleTest() {
            results.innerHTML = '<h3>ğŸ¯ Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª Moduleâ€ŒÙ‡Ø§...</h3>';
            
            try {
                // ØªØ³Øª event_bus.js
                try {
                    const eventBusModule = await import('./core/event_bus.js');
                    showResult('event_bus.js', 'âœ… ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Module Ù„ÙˆØ¯ Ø´Ø¯', true);
                    console.log('ØµØ§Ø¯Ø±Ø§Øª event_bus.js:', eventBusModule);
                } catch (e) {
                    showResult('event_bus.js', `âŒ Ø®Ø·Ø§ Ø¯Ø± Ù„ÙˆØ¯ Module: ${e.message}`, false);
                }

                // ØªØ³Øª db.js
                try {
                    const dbModule = await import('./core/db.js');
                    showResult('db.js', 'âœ… ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Module Ù„ÙˆØ¯ Ø´Ø¯', true);
                    console.log('ØµØ§Ø¯Ø±Ø§Øª db.js:', dbModule);
                } catch (e) {
                    showResult('db.js', `âŒ Ø®Ø·Ø§ Ø¯Ø± Ù„ÙˆØ¯ Module: ${e.message}`, false);
                }

                // ØªØ³Øª router.js
                try {
                    const routerModule = await import('./core/router.js');
                    showResult('router.js', 'âœ… ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Module Ù„ÙˆØ¯ Ø´Ø¯', true);
                    console.log('ØµØ§Ø¯Ø±Ø§Øª router.js:', routerModule);
                } catch (e) {
                    showResult('router.js', `âŒ Ø®Ø·Ø§ Ø¯Ø± Ù„ÙˆØ¯ Module: ${e.message}`, false);
                }

            } catch (error) {
                showResult('Ø³ÛŒØ³ØªÙ…', `âŒ Ø®Ø·Ø§ÛŒ Ú©Ù„ÛŒ: ${error.message}`, false);
            }
        }
    </script>
</body>
</html>
