<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª ProgressBar - Vakamova</title>
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, sans-serif; }
        body { background: #1a1a2e; color: #e6e6e6; padding: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: #64ffda; text-align: center; margin-bottom: 30px; }
        
        .test-section { 
            background: rgba(255, 255, 255, 0.05); 
            border-radius: 10px; 
            padding: 20px; 
            margin-bottom: 20px;
            border: 1px solid rgba(100, 255, 218, 0.2);
        }
        
        .controls { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px; 
            margin: 20px 0; 
        }
        
        button { 
            padding: 12px 15px; 
            background: #0d7377; 
            color: white; 
            border: none; 
            border-radius: 8px;
            cursor: pointer; 
            font-weight: bold;
            transition: all 0.3s;
        }
        button:hover { background: #14ffec; color: #000; transform: translateY(-2px); }
        
        .progress-container { 
            margin: 30px 0; 
            padding: 20px; 
            background: rgba(0,0,0,0.3); 
            border-radius: 10px;
        }
        
        .log { 
            background: rgba(0,0,0,0.5); 
            padding: 15px; 
            border-radius: 8px; 
            margin-top: 20px;
            font-family: monospace; 
            max-height: 300px; 
            overflow-y: auto;
        }
        .log-item { padding: 5px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .success { color: #4CAF50; }
        .error { color: #ff5252; }
        .info { color: #64b5f6; }
        
        #progress-bar-container {
            margin: 20px 0;
            border: 2px solid #333;
            border-radius: 20px;
            overflow: hidden;
            height: 30px;
            background: #222;
        }
        
        #progress-bar-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #0d7377, #14ffec);
            border-radius: 18px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: black;
            font-weight: bold;
            min-width: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ØªØ³Øª ProgressBar Component</h1>
        
        <div class="test-section">
            <h2>Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Ù¾ÛŒØ´Ø±ÙØª</h2>
            <div id="progress-bar-container">
                <div id="progress-bar-fill">0%</div>
            </div>
            
            <div class="controls">
                <button onclick="setProgress(0)">0% (Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†)</button>
                <button onclick="setProgress(25)">25% (Ø´Ø±ÙˆØ¹)</button>
                <button onclick="setProgress(50)">50% (Ù†ÛŒÙ…Ù‡)</button>
                <button onclick="setProgress(75)">75% (Ù†Ø²Ø¯ÛŒÚ©)</button>
                <button onclick="setProgress(100)">100% (Ú©Ø§Ù…Ù„)</button>
                <button onclick="setProgress(33)">33% (ÛŒÚ© Ø³ÙˆÙ…)</button>
                <button onclick="setProgress(66)">66% (Ø¯Ùˆ Ø³ÙˆÙ…)</button>
                <button onclick="randomProgress()">ğŸ² Ù…Ù‚Ø¯Ø§Ø± ØªØµØ§Ø¯ÙÛŒ</button>
            </div>
            
            <div class="controls">
                <button onclick="changeColor('#ff5252')">ğŸ”´ Ø±Ù†Ú¯ Ù‚Ø±Ù…Ø²</button>
                <button onclick="changeColor('#4CAF50')">ğŸŸ¢ Ø±Ù†Ú¯ Ø³Ø¨Ø²</button>
                <button onclick="changeColor('#FF9800')">ğŸŸ  Ø±Ù†Ú¯ Ù†Ø§Ø±Ù†Ø¬ÛŒ</button>
                <button onclick="changeColor('#2196F3')">ğŸ”µ Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ</button>
                <button onclick="resetColor()">â†©ï¸ Ø±Ù†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶</button>
            </div>
            
            <div class="controls">
                <button onclick="showLabel(true)">ğŸ“ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø±Ú†Ø³Ø¨</button>
                <button onclick="showLabel(false)">ğŸ™ˆ Ù¾Ù†Ù‡Ø§Ù† Ø¨Ø±Ú†Ø³Ø¨</button>
                <button onclick="setAnimation('fast')">âš¡ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ø±ÛŒØ¹</button>
                <button onclick="setAnimation('slow')">ğŸŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¢Ù‡Ø³ØªÙ‡</button>
                <button onclick="setAnimation('none')">â›” Ø¨Ø¯ÙˆÙ† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>Ù„Ø§Ú¯ Ø§Ø¬Ø±Ø§</h2>
            <div class="log" id="log"></div>
        </div>
    </div>

    <script type="module">
        // ==================== IMPORT COMPONENT ====================
        // ØªÙˆØ¬Ù‡: Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø§ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡ÛŒØ¯
        import ProgressBar from './components/ProgressBar.js';
        
        // ==================== GLOBAL STATE ====================
        let progressBarInstance = null;
        const state = {
            value: 0,
            color: null,
            showLabel: true,
            animationSpeed: 'normal'
        };
        
        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                log('ğŸ“¦ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ProgressBar...', 'info');
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÙˆÙ†Ù‡ ProgressBar
                progressBarInstance = new ProgressBar({
                    container: document.getElementById('progress-bar-container'),
                    initialValue: 0,
                    showLabel: true,
                    onUpdate: (value) => {
                        log(`Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±: ${value}%`, 'info');
                        updateDisplay(value);
                    }
                });
                
                log('âœ… ProgressBar Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯', 'success');
                log('Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ø±Ø§ ÙØ´Ø§Ø± Ø¯Ù‡ÛŒØ¯', 'info');
                
            } catch (error) {
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${error.message}`, 'error');
            }
        });
        
        // ==================== TEST FUNCTIONS ====================
        function setProgress(value) {
            if (!progressBarInstance) return;
            
            try {
                const oldValue = state.value;
                progressBarInstance.setValue(value);
                state.value = value;
                
                updateDisplay(value);
                log(`ğŸ“Š ØªØºÛŒÛŒØ± Ù¾ÛŒØ´Ø±ÙØª: ${oldValue}% â†’ ${value}%`, 'success');
                
            } catch (error) {
                log(`Ø®Ø·Ø§ Ø¯Ø± setProgress: ${error.message}`, 'error');
            }
        }
        
        function randomProgress() {
            const randomValue = Math.floor(Math.random() * 101);
            setProgress(randomValue);
            log(`ğŸ² Ù…Ù‚Ø¯Ø§Ø± ØªØµØ§Ø¯ÙÛŒ: ${randomValue}%`, 'info');
        }
        
        function changeColor(color) {
            if (!progressBarInstance) return;
            
            try {
                progressBarInstance.setColor(color);
                state.color = color;
                
                document.getElementById('progress-bar-fill').style.background = color;
                log(`ğŸ¨ Ø±Ù†Ú¯ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ Ø¨Ù‡: ${color}`, 'success');
                
            } catch (error) {
                log(`Ø®Ø·Ø§ Ø¯Ø± ØªØºÛŒÛŒØ± Ø±Ù†Ú¯: ${error.message}`, 'error');
            }
        }
        
        function resetColor() {
            if (!progressBarInstance) return;
            
            try {
                progressBarInstance.resetColor();
                state.color = null;
                
                document.getElementById('progress-bar-fill').style.background = 
                    'linear-gradient(90deg, #0d7377, #14ffec)';
                log('ğŸ¨ Ø±Ù†Ú¯ Ø¨Ù‡ Ø­Ø§Ù„Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø§Ø²Ú¯Ø´Øª', 'success');
                
            } catch (error) {
                log(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø±Ù†Ú¯: ${error.message}`, 'error');
            }
        }
        
        function showLabel(visible) {
            if (!progressBarInstance) return;
            
            try {
                progressBarInstance.toggleLabel(visible);
                state.showLabel = visible;
                
                log(`ğŸ“ Ø¨Ø±Ú†Ø³Ø¨ ${visible ? 'Ù†Ù…Ø§ÛŒØ´' : 'Ù¾Ù†Ù‡Ø§Ù†'} Ø´Ø¯`, 'success');
                
            } catch (error) {
                log(`Ø®Ø·Ø§ Ø¯Ø± Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ú†Ø³Ø¨: ${error.message}`, 'error');
            }
        }
        
        function setAnimation(speed) {
            if (!progressBarInstance) return;
            
            try {
                progressBarInstance.setAnimationSpeed(speed);
                state.animationSpeed = speed;
                
                const speedText = {
                    'fast': 'Ø³Ø±ÛŒØ¹',
                    'slow': 'Ø¢Ù‡Ø³ØªÙ‡',
                    'none': 'Ø¨Ø¯ÙˆÙ† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†',
                    'normal': 'Ù†Ø±Ù…Ø§Ù„'
                }[speed] || speed;
                
                log(`âš¡ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯ Ø¨Ø±: ${speedText}`, 'success');
                
            } catch (error) {
                log(`Ø®Ø·Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø§Ù†ÛŒÙ…ÛŒØ´Ù†: ${error.message}`, 'error');
            }
        }
        
        // ==================== UTILITY FUNCTIONS ====================
        function updateDisplay(value) {
            const fillElement = document.getElementById('progress-bar-fill');
            fillElement.style.width = `${value}%`;
            fillElement.textContent = `${value}%`;
        }
        
        function log(message, type = 'info') {
            const logElement = document.getElementById('log');
            const item = document.createElement('div');
            item.className = `log-item ${type}`;
            item.innerHTML = `
                <strong>[${new Date().toLocaleTimeString('fa-IR')}]</strong>
                <span>${message}</span>
            `;
            logElement.appendChild(item);
            logElement.scrollTop = logElement.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        // ==================== GLOBAL EXPORT FOR CONSOLE TESTING ====================
        window.ProgressBarTester = {
            setProgress,
            randomProgress,
            changeColor,
            resetColor,
            showLabel,
            setAnimation,
            getState: () => ({ ...state }),
            getInstance: () => progressBarInstance,
            log
        };
        
        console.log('ğŸš€ ProgressBarTester Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!');
        
    </script>
</body>
</html>
