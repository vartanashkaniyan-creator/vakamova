<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HyperLang - Ø¢Ù…ÙˆØ²Ø´ Ø²Ø¨Ø§Ù† Û±Û² Ø²Ø¨Ø§Ù†Ù‡</title>
    <meta name="description" content="Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¢Ù…ÙˆØ²Ø´ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ÛŒ">
    <link rel="manifest" href="/manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a237e 0%, #3949ab 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            padding-top: 50px;
        }
        .logo {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 40px;
        }
        .status {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 30px auto;
            max-width: 500px;
            backdrop-filter: blur(10px);
        }
        #app {
            margin-top: 40px;
            padding: 20px;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">ğŸŒ</div>
        <h1>HyperLang</h1>
        <div class="subtitle">Ø¢Ù…ÙˆØ²Ø´ Û±Û² Ø²Ø¨Ø§Ù† Ø²Ù†Ø¯Ù‡ Ø¯Ù†ÛŒØ§ - Ù†Ø³Ø®Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ</div>
        
        <div class="status">
            <p id="load-status">Ø¯Ø± Ø­Ø§Ù„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…...</p>
            <div id="module-status"></div>
        </div>
        
        <div id="app">
            <!-- Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù†Ø¯Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
    </div>

    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ -->
    <script type="module">
        async function initApp() {
            const statusEl = document.getElementById('load-status');
            const moduleStatusEl = document.getElementById('module-status');
            
            try {
                // Û±. Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ config
                statusEl.textContent = 'Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª...';
                const config = await import('./core/config.js');
                moduleStatusEl.innerHTML += '<div>âœ… ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯</div>';
                
                // Û². Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ event bus
                statusEl.textContent = 'Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯...';
                const eventBus = await import('./core/event-bus.js');
                moduleStatusEl.innerHTML += '<div>âœ… Ø³ÛŒØ³ØªÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¢Ù…Ø§Ø¯Ù‡</div>';
                
                // Û³. Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ context
                statusEl.textContent = 'Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ØªØ²Ø±ÛŒÙ‚ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ...';
                const context = await import('./core/context-provider.js');
                moduleStatusEl.innerHTML += '<div>âœ… Ø³ÛŒØ³ØªÙ… ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¢Ù…Ø§Ø¯Ù‡</div>';
                
                // Û´. Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ state manager
                statusEl.textContent = 'Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª...';
                const stateManager = await import('./core/state-manager.js');
                moduleStatusEl.innerHTML += '<div>âœ… Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª Ø¢Ù…Ø§Ø¯Ù‡</div>';
                
                // Ûµ. Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª
                statusEl.innerHTML = '<strong style="color:#4caf50;">âœ… Ø³ÛŒØ³ØªÙ… HyperLang Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!</strong>';
                
                // Ø°Ø®ÛŒØ±Ù‡ global references Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯
                window.App = {
                    config,
                    eventBus,
                    context,
                    stateManager
                };
                
                console.log('ğŸš€ HyperLang successfully bootstrapped!');
                
                // Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù†Ø¯Ø± Ú©Ù†ÛŒØ¯
                document.getElementById('app').innerHTML = `
                    <h2>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h2>
                    <p>Ø³ÛŒØ³ØªÙ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯.</p>
                    <button onclick="startApp()" style="
                        background: #4caf50;
                        color: white;
                        border: none;
                        padding: 12px 30px;
                        border-radius: 25px;
                        font-size: 1.1rem;
                        margin-top: 20px;
                        cursor: pointer;
                    ">Ø´Ø±ÙˆØ¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</button>
                `;
                
            } catch (error) {
                statusEl.innerHTML = `<strong style="color:#ff5252;">âŒ Ø®Ø·Ø§ Ø¯Ø± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ</strong>`;
                moduleStatusEl.innerHTML += `<div style="color:#ff5252;">${error.message}</div>`;
                console.error('Bootstrapping failed:', error);
            }
        }
        
        window.startApp = function() {
            alert('Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø²Ø¨Ø§Ù†ØŸ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ...');
            // Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ù‡Ø¯Ø§ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆØ¯
        };
        
        // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
